<ion-header translucent>
  <ion-toolbar color="light">
    <ion-title class="ion-text-center">Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" color="light">
  <div class="login-container">
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="login-form">
      <ion-item>
        <ion-label position="floating">Username</ion-label>
        <ion-input type="text" formControlName="username" required></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Password</ion-label>
        <ion-input
          type="password"
          formControlName="password"
          required
        ></ion-input>
      </ion-item>
      <ion-button expand="full" type="submit" class="login-button"
        >Login</ion-button
      >

      <!-- Display error message if exists -->
      <div *ngIf="errorMessage" class="error-message">
        <p>{{ errorMessage }}</p>
      </div>

      <div *ngIf="loginForm.invalid && (loginForm.dirty || loginForm.touched)">
        <p *ngIf="loginForm.get('username')?.invalid">
          Please enter a valid username.
        </p>
        <p *ngIf="loginForm.get('password')?.invalid">Password is required.</p>
      </div>
    </form>
  </div>
</ion-content>
